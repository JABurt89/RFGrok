Locate the "Skip Extra Set" Action Handler
Navigate to the client-side code where the "Skip Extra Set" action is implemented. This is most likely in one of the following files:
client/src/components/workout-logger.tsx
client/src/components/workout/base-workout-logger.tsx
client/src/components/workout/default-logger.tsx
client/src/components/workout/rpt-top-set-logger.tsx
Alternatively, check client/src/components/workout/workout-actions.ts or client/src/components/workout/workout-reducer.ts if the logic is managed via a reducer.
Look for an event handler or action (e.g., a button click or dispatched action) associated with "Skip Extra Set".
Update the State to Set extraSetReps to undefined
Ensure that when the user clicks "Skip Extra Set", the extraSetReps field for the specific exercise in the workout log state is explicitly set to undefined. For example:
typescript

Collapse

Wrap

Copy
// If using a state object directly (e.g., in workout-logger.tsx)
setWorkoutLog(prev => ({
  ...prev,
  sets: prev.sets.map(set =>
    set.exerciseId === currentExerciseId
      ? { ...set, extraSetReps: undefined }
      : set
  ),
}));

// Or if using a reducer (e.g., in workout-reducer.ts)
case 'SKIP_EXTRA_SET':
  return {
    ...state,
    sets: state.sets.map(set =>
      set.exerciseId === action.exerciseId
        ? { ...set, extraSetReps: undefined }
        : set
    ),
  };
Replace currentExerciseId or action.exerciseId with the actual variable representing the current exercise’s ID in your code.
Verify the Submission Payload
Before submitting the workout log to the server (likely via an API call in workout-logger.tsx or a mutation in useApi.ts), ensure the payload correctly omits extraSetReps when it’s undefined. In JavaScript, undefined properties are excluded when serialized to JSON, so confirm this behavior:
typescript

Collapse

Wrap

Copy
const payload = {
  userId: userId,
  date: new Date(),
  sets: workoutLog.sets,
  isComplete: true,
};
console.log('Payload before submission:', JSON.stringify(payload));
// Proceed with API call (e.g., mutation.mutate(payload))
Add a console.log statement as shown to debug the payload and verify that extraSetReps is absent (not 0 or null) for exercises where the extra set was skipped.